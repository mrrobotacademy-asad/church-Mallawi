<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงููููุณุฉ ุงูุงูุฌูููุฉ ุจูููู</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF6B6B; /* ุฃุญูุฑ ูุจูุฌ */
            --secondary: #4ECDC4; /* ุชุฑููุงุฒ */
            --correct: #1DD1A1;
            --wrong: #FF6B6B;
            --warning: #FECA57; /* ุฃุตูุฑ ุฐูุจู */
            --bg: #F7F1E3;
            --card-bg: white;
            --radius: 20px;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #2D3436;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header { text-align: center; padding: 25px; width: 100%; background: white; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        .logo-img { 
            width: 170px; 
            height: auto; 
            border-radius: 10%;
            border: 5px solid var(--secondary);
        }

        .container {
            background: var(--card-bg);
            border-radius: 30px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            margin: 30px 0;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center;
            border: 4px dashed var(--primary);
        }

        .explanation-slider {
            background: #FFF9E1;
            border-radius: var(--radius);
            padding: 25px;
            margin: 20px 0;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border: 3px solid var(--warning);
        }

        .explanation-card h3 { color: var(--primary); font-size: 1.8rem; margin-bottom: 10px; }
        .example-text { color: #636E72; font-size: 1.1rem; line-height: 1.6; }
        
        .slider-nav { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }

        .nav-btn {
            background: var(--secondary);
            border: none; color: white; padding: 12px 30px;
            border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 1.1rem;
            box-shadow: 0 4px 0 #3DBEAC;
        }

        .nav-btn:active { transform: translateY(3px); box-shadow: none; }
        .nav-btn:disabled { background: #BDC3C7; box-shadow: none; }

        .code-block {
            background: #2D3436; color: #FAB1A0; padding: 15px;
            font-family: 'Cairo'; border-radius: 15px; margin: 15px 0; font-size: 1.2rem;
        }

        .status-bar {
            display: flex; justify-content: space-between; background: var(--secondary);
            padding: 15px; border-radius: var(--radius); margin-bottom: 20px; color: white;
        }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .option-btn {
            background: white; border: 3px solid #dfe6e9;
            padding: 15px; color: #2D3436; cursor: pointer; border-radius: var(--radius);
            font-size: 1.1rem; font-weight: bold; transition: 0.3s;
        }
        .option-btn:hover { border-color: var(--primary); background: #FFF5F5; }
        .option-btn.selected { background: var(--primary); color: white; border-color: white; }

        .btn-main {
            background: var(--primary); color: white; border: none; padding: 20px 50px;
            cursor: pointer; font-weight: 900; border-radius: 50px; font-size: 1.5rem;
            box-shadow: 0 6px 0 #E84118;
        }

        .hidden { display: none !important; }
        input[type="text"] {
            width: 80%; padding: 15px; border: 3px solid var(--secondary); border-radius: var(--radius);
            text-align: center; font-size: 1.3rem; margin: 10px 0;
        }
    </style>
</head>
<body>

<div class="header">
    <img src="logo.png" alt="Logo" class="logo-img" onerror="this.src='https://via.placeholder.com/150/FF6B6B/ffffff?text=KIDS+LOGO';">
    <h1 style="color:var(--primary); margin:10px 0;">ุงููููุณุฉ ุงูุฅูุฌูููุฉ ุจูููู</h1>
    <h3 style="color:var(--secondary); margin:0;">ุนุจุฑุฉ ูู ุฎููุฉ</h3>
</div>

<div class="container">
    <div id="start-screen">
        <h2 style="color:var(--warning); font-size: 2rem;">๐ ุญูุงูุฉ ูููุงุฏ ูุณูุน (ูุชู 1) ๐</h2>
        
        <div class="gallery-section">
            <div class="images-grid">
                <div class="gallery-item"><img src="bible_kids.JPG" alt="Bible Story" style="width:100%; max-width:300px; border-radius:20px; border:5px solid var(--secondary);"></div>
            </div>
        </div>
        
        <div class="explanation-slider">
            <div id="slide-content"></div>
            <div class="slider-nav">
                <button class="nav-btn" onclick="moveSlide(-1)" id="prevSlide">ุงูุณุงุจู</button>
                <span id="slide-num" style="align-self:center; font-weight:bold;">1 / 20</span>
                <button class="nav-btn" onclick="moveSlide(1)" id="nextSlide">ุงูุชุงูู</button>
            </div>
        </div>

        <input type="text" id="username" placeholder="ุงูุชุจ ุงุณูู ูุง ุจุทู ููุง...">
        <br><br>
        <button class="btn-main" onclick="initQuiz()">ููุง ูุจุฏุฃ ุงููุณุงุจูุฉ ๐ฏ</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="status-bar">
            <div>โฐ <span id="timer-val">00:00</span></div>
            <div id="progress-text">ุงูุณุคุงู 1 / 20</div>
            <div>โญ <span id="score-val">0</span></div>
        </div>
        
        <div class="question-zone">
            <h3 id="q-text" style="font-size: 1.6rem; color: var(--primary);"></h3>
            <div id="options-container" class="options-grid"></div>
            
            <div id="input-container" class="hidden">
                <input type="text" id="user-code-input" placeholder="ุงูุชุจ ุงูุฅุฌุงุจุฉ ูุง ุดุงุทุฑ...">
            </div>

            <div id="hint-box" style="margin-top:20px; display:none; background:#FFF9E1; padding:15px; border-radius:15px; border:2px solid var(--warning);">
                ๐ก ุชูููุญุฉ ูุณุงุนุฏุฉ: <span id="hint-text"></span>
            </div>

            <div style="margin-top:30px; display:flex; gap:10px; justify-content:center;">
                <button class="nav-btn" style="background:#95A5A6;" onclick="navigate(-1)">ุงูุณุงุจู</button>
                <button class="btn-main" style="padding:15px 30px; font-size:1.2rem;" onclick="handleStep()">ุชุฃููุฏ ุงูุฅุฌุงุจุฉ โ</button>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden">
        <h1 style="font-size: 5rem;">๐ฅณ</h1>
        <h2 id="congrats-msg">ูุจุฑูู ูุง ุจุทู!</h2>
        <p id="final-stats" style="font-size:1.5rem"></p>
        <button class="btn-main" onclick="location.reload()">ููุนุจ ุชุงููุ ๐</button>
    </div>
</div>

<script>
    const lessons = [
        { title: "ุนููุฉ ูุณูุน ๐ณ", code: "ูุชุงุจ ูููุงุฏ ูุณูุน", desc: "ุงูุฅูุฌูู ุจูุจุฏุฃ ูููููุง ุนู ุดุฌุฑุฉ ุนููุฉ ุจุงุจุง ูุณูุน ุนุดุงู ูุนุฑู ูู ุฌุงู ูููู.", example: "ุฒู ูุง ุจูุนุฑู ุงุณู ุฌุฏู ูุจุงุจุง ุนุดุงู ูุนุฑู ุนููุชูุง." },
        { title: "ูุนุฏ ูุฅุจุฑุงููู โจ", code: "ุงุจู ุฅุจุฑุงููู", desc: "ูุณูุน ุญููุฏ ุฅุจุฑุงูููุ ูุฏู ูุนูุงู ุฅู ูุณูุน ูู ุงูุจุฑูุฉ ุงููู ุฑุจูุง ูุนุฏ ุจููุง ุฅุจุฑุงููู ุฒูุงู.", example: "ุฑุจูุง ุจูููู ุจูุนูุฏู ูููุง ุทุงู ุงูููุช." },
        { title: "ุงุจู ุฏุงูุฏ ุงูููู ๐", code: "ุงุจู ุฏุงูุฏ", desc: "ูุณูุน ููู ุญููููุ ุจุณ ููู ุนูู ูููุจูุง ูุด ููู ูู ูุตุฑ ุจุฌูุด.", example: "ูุณูุน ููู ุงูุณูุงู ูุงููุญุจุฉ." },
        { title: "ุงูุชูุณููุฉ ุงูุฌูููุฉ ๐ข", code: "14 ุฌูู", desc: "ูุชู ูุณู ุงูุฃุณุงูู ููุฌููุนุงุชุ ูู ูุฌููุนุฉ ูููุง 14 ุงุณู ุนุดุงู ูุญูุธูู ุจุณูููุฉ.", example: "ุฒู ูุง ุจูุฑุชุจ ูุนุจูุง ูู ูุฌููุนุงุช ุนุดุงู ูููุณุงุด ุญุงุฌุฉ." },
        { title: "ูุฑูู ุงูุนุฐุฑุงุก ๐๏ธ", code: "ูุฑูู ุงููุฎุทูุจุฉ ูููุณู", desc: "ูุฑูู ูุงูุช ุจูุช ุฌูููุฉ ูุจุชุญุจ ุฑุจูุง ุฌุฏุงูุ ููุงูุช ูุฎุทูุจุฉ ููุฌุงุฑ ุดุงุทุฑ ุงุณูู ููุณู.", example: "ุงูุฎุทูุจุฉ ูุนูู ุจูุฌูุฒูุง ุนุดุงู ูุชุฌูุฒูุง." },
        { title: "ุณุฑ ุนุธูู ๐คซ", code: "ููุฌุฏุช ุญุจูู ูู ุงูุฑูุญ ุงููุฏุณ", desc: "ูุฑูู ุจูุช ุญุงูู ุจูุนุฌุฒุฉ ูู ุฑุจูุงุ ูุด ุจุทุฑููุฉ ุทุจูุนูุฉ ุฒู ูู ุงููุงุณ.", example: "ุฑุจูุง ูููุด ุญุงุฌุฉ ุตุนุจุฉ ุนููู ุฃุจุฏุงู." },
        { title: "ููุณู ุงููุฌุงุฑ ุงูุจุงุฑ ๐๏ธ", code: "ูุงู ุจุงุฑุงู", desc: "ููุณู ูุงู ุฅูุณุงู ุทูุจ ุฌุฏุงู ูุจูุฎุงู ุนูู ูุดุงุนุฑ ุงููุงุณุ ูููุด ุนุงูุฒ ูุฒุนู ูุฑูู.", example: "ุงูุดุฎุต ุงูุจุงุฑ ูุนูู ุงููู ุจูุนูู ุงูุตุญ ุฏุงููุงู." },
        { title: "ุญูู ููุณู ๐ด", code: "ููุงู ุงูุฑุจ ุธูุฑ ูู", desc: "ููุณู ูุงู ุจูููุฑ ูุนูู ุฅููุ ูุฑุจูุง ุจุนุชูู ููุงู ูู ุงูุญูู ุนุดุงู ูุทููู.", example: "ุฑุจูุง ุฏุงููุงู ุจูุทููุง ููุง ุจูููู ูุญุชุงุฑูู." },
        { title: "ูุชุฎุงูุด ูุง ููุณู ๐ก๏ธ", code: "ูุง ุชุฎู", desc: "ุงูููุงู ูุงู ูููุณู ูุชุฎุงูุด ุชุงุฎุฏ ูุฑูู ุนูุฏูุ ูุฃู ุงูุทูู ุฏู ูู ุงุจู ุฑุจูุง.", example: "ูููุฉ (ูุง ุชุฎู) ุจุชุดูู ุฃู ุฎูู ูู ููุจูุง." },
        { title: "ุฃุญูู ุงุณู (ูุณูุน) โค๏ธ", code: "ุชุณููู ูุณูุน", desc: "ุงูููุงู ูู ุงููู ุงุฎุชุงุฑ ุงูุงุณูุ ููุณูุน ูุนูู (ุงููุฎูุต) ุงููู ููููุฐูุง.", example: "ูุณูุน ูู ุงููู ุจูุดูู ุนููุง ุงููุญุด ููุฎูููุง ุญูููู." },
        { title: "ุจุทู ุงูุฎูุงุต ๐ฆธโโ๏ธ", code: "ูุฎูุต ุดุนุจู", desc: "ูุณูุน ุฌู ูุฎุตูุต ุนุดุงู ูุฎูุตูุง ูู ุงูุบูุท (ุงูุฎุทูุฉ) ุงููู ุจุชุจุนุฏูุง ุนู ุฑุจูุง.", example: "ุฒู ุงูุจุทู ุงููู ุจูููุฐ ุงููุงุณ ูู ุงูุฎุทุฑ." },
        { title: "ุนูุงููุฆูู ๐ค", code: "ุงููู ูุนูุง", desc: "ุฏู ุงุณู ุชุงูู ููุณูุน ูุนูุงู ุฅู ุฑุจูุง ูุด ุจุนูุฏ ูู ุงูุณูุงุ ุฏู ุจูู ูุนุงูุง ููุง.", example: "ุชุฎูู ุฑุจูุง ูุนุงู ูู ุงูุจูุช ูุงููุฏุฑุณุฉ ููู ูู ููุงู!" },
        { title: "ููุงู ุงูุฃูุจูุงุก ๐", code: "ููู ูุชู ูุง ููู", desc: "ูู ุงููู ุญุตู ุฏู ูุงู ุงูุฃูุจูุงุก ูุงูููู ุนููู ูู ูุฆุงุช ุงูุณููู.", example: "ููุงู ุฑุจูุง ุญูููู ูุจูุฑุณู ุงููุณุชูุจู ุจุฏูุฉ." },
        { title: "ูุจูุฉ ุฅุดุนูุงุก ๐", code: "ุงูุนุฐุฑุงุก ุชูุฏ ุงุจูุงู", desc: "ุงููุจู ุฅุดุนูุงุก ูุงู ุฒูุงู ุฅู ููู ุนุฐุฑุงุก ูุชููุฏ ููู ุนุธูู.", example: "ุงููุนุฌุฒุงุช ูู ุทุฑููุฉ ุฑุจูุง ุนุดุงู ูุจูุฑูุง ุจุญุจู." },
        { title: "ุทุงุนุฉ ููุณู ๐โโ๏ธ", code: "ูุนู ููุง ุฃูุฑู ุงูููุงู", desc: "ููุณู ุฃูู ูุง ุตุญู ูู ุงูููู ููุฐ ููุงู ุฑุจูุง ููุฑุงู ูู ุบูุฑ ุฃุณุฆูุฉ.", example: "ุงูุดุงุทุฑ ูู ุงููู ุจูุณูุน ููุงู ุฑุจูุง ุจุณุฑุนุฉ." },
        { title: "ุจูุช ููุณู ๐", code: "ุฃุฎุฐ ุงูุฑุฃุชู", desc: "ููุณู ุฎุฏ ูุฑูู ูู ุจูุชู ูุจูู ูู ุงููุณุคูู ุนููุง ูุนู ุญูุงูุฉ ุงูุทูู ูุณูุน.", example: "ููุณู ูุงู ุญุงุฑุณ ุฃููู ุนูู ุฃุบูู ูุฏูุฉ." },
        { title: "ูููุงุฏ ุงูููู ุงูุตุบูุฑ ๐ถ", code: "ููุฏุช ุงุจููุง ุงูุจูุฑ", desc: "ูุฃุฎูุฑุงู ููู ุงููููุงุฏ ุฌูุ ููุณูุน ููุฑ ุงูุฏููุง ุจูุฌูุฏู.", example: "ุฃุฌูู ููู ูู ุงูุชุงุฑูุฎ ูู ููู ูููุงุฏ ูุณูุน." },
        { title: "ููุณู ุจุทู ูุงุฏู ๐คซ", code: "ููู ูุนุฑููุง ุญุชู ููุฏุช", desc: "ููุณู ูุถู ูุญุงูุธ ุนูู ูุฑูู ููุญุชุฑููุง ุฌุฏุงู ูุญุฏ ูุง ูุณูุน ุงุชููุฏ.", example: "ุงูุงุญุชุฑุงู ูุงูุชูุฏูุฑ ุตูุงุช ุงูุฃุจุทุงู." },
        { title: "ุชุญููู ุงููุนุฏ ๐", code: "ุงุจู ุฅุจุฑุงููู ูุฏุงูุฏ", desc: "ุจูุฏู ูุณูุน ุจูู ูู ุงูููู ุงููู ุฌุงู ูู ุนููุฉ ุงููููู ูุงูุฃูุจูุงุก.", example: "ูุณูุน ูู ูุฎุฑ ููู ุงูุจุดุฑูุฉ." },
        { title: "ุฌุงูุฒูู ูููุณุงุจูุฉุ ๐", code: "ููุง ุจูุง!", desc: "ุฎูุตูุง ุงูุญูุงูุฉุ ุฏูููุชู ููุช ุงูุชุญุฏู ุนุดุงู ูุดูู ููู ุฑูุฒ ูู ุงูููุงู.", example: "ููุง ูุง ุจุทู ูุฑููู ุดุทุงุฑุชู!" }
    ];

    const questions = [
        { type: 'select', q: 'ุฅูุฌูู ูุชู ุจูุจุฏุฃ ุจุนููุฉ ูููุ', options: ['ุนููุฉ ููุณู', 'ุนููุฉ ูุณูุน ุงููุณูุญ', 'ุนููุฉ ูููุงู', 'ุนููุฉ ููุญ'], ans: 'ุนููุฉ ูุณูุน ุงููุณูุญ', hint: 'ุฃูู ุฌููุฉ ูู ุงูุฅุตุญุงุญ' },
        { type: 'select', q: 'ูุณูุน ูู ุญููุฏ ููู ูู ุงูููููุ', options: ['ุงูููู ุดุงูู', 'ุงูููู ุณูููุงู', 'ุงูููู ุฏุงูุฏ', 'ุงูููู ุฃุฎุขุจ'], ans: 'ุงูููู ุฏุงูุฏ', hint: 'ุงูููู ุงููู ูุงู ุจูุนุฒู ููุซุงุฑุฉ' },
        { type: 'select', q: 'ููู ูู ุฃุจู ุงูุขุจุงุก ุงููู ุจุฏุฃ ุจูู ุงูุฃูุณุงุจุ', options: ['ุฅุจุฑุงููู', 'ูุนููุจ', 'ุฅุณุญู', 'ููุณู'], ans: 'ุฅุจุฑุงููู', hint: 'ุงููู ุฑุจูุง ูุนุฏู ุจูุณู ุฒู ูุฌูู ุงูุณูุง' },
        { type: 'select', q: 'ูุชู ูุณู ุงูุฃุฌูุงู ููุฌููุนุงุชุ ูู ูุฌููุนุฉ ูููุง ูุงู ุฌููุ', options: ['10 ุฃุฌูุงู', '12 ุฌูู', '14 ุฌูู', '20 ุฌูู'], ans: '14 ุฌูู', hint: 'ุฑูู ุจูู ุงูู 10 ูุงูู 15' },
        { type: 'select', q: 'ูุฑูู ูุงูุช ูุฎุทูุจุฉ ููููุ', options: ['ุจุทุฑุณ', 'ููุณู ุงููุฌุงุฑ', 'ููุญูุง', 'ุฒูุฑูุง'], ans: 'ููุณู ุงููุฌุงุฑ', hint: 'ูุงู ุจูุดุชุบู ุจุงูุฎุดุจ ูุงูููุดุงุฑ' },
        { type: 'select', q: 'ูุฑูู ุจูุช ุญุงูู ุนู ุทุฑูู ูููุ', options: ['ุงูุตุฏูุฉ', 'ุงูุฑูุญ ุงููุฏุณ', 'ููุงู', 'ุจุดุฑ'], ans: 'ุงูุฑูุญ ุงููุฏุณ', hint: 'ููุฉ ุฑุจูุง ุงูุนุธููุฉ' },
        { type: 'select', q: 'ููุณู ูุงู ุฅูุณุงู ุฅููุ (ูุตูู ุงูุฅูุฌูู ุจู...)', options: ['ุบูู', 'ููู', 'ุจุงุฑ', 'ุณุฑูุน'], ans: 'ุจุงุฑ', hint: 'ูุนูู ุฅูุณุงู ุตุงูุญ ูุจูุนูู ุงูุตุญ' },
        { type: 'select', q: 'ููู ุงููู ุธูุฑ ูููุณู ูู ุงูุญููุ', options: ['ููุงู ุงูุฑุจ', 'ูุฑูู ุงูุนุฐุฑุงุก', 'ุฅุจุฑุงููู', 'ุงูุฑุนุงุฉ'], ans: 'ููุงู ุงูุฑุจ', hint: 'ูุงุฆู ุณูุงูู ุจุฌูุงุญุงุช ูููุฑ' },
        { type: 'select', q: 'ุงูููุงู ูุงู ูููุณู ูุณูู ุงูุทูู ุฅููุ', options: ['ุนูุงููุฆูู', 'ูุณูุน', 'ููุญูุง', 'ูุณูุญ'], ans: 'ูุณูุน', hint: 'ุงูุงุณู ุงููู ุจูุญุจู ูููุง' },
        { type: 'select', q: 'ูููุฉ "ูุณูุน" ูุนูุงูุง ุฅููุ', options: ['ุงูููู', 'ุงููุฎูุต', 'ุงูุตุฏูู', 'ุงูููู'], ans: 'ุงููุฎูุต', hint: 'ูุฃูู ุจูุฎูุตูุง ูู ุงูุฎุทูุฉ' },
        { type: 'select', q: 'ุงุณู "ุนูุงููุฆูู" ูุนูุงู ุฅููุ', options: ['ุงููู ูุญุจูุง', 'ุงููู ูุนูุง', 'ุงููู ูู ุงูุณูุง', 'ุงููู ูุฑู'], ans: 'ุงููู ูุนูุง', hint: 'ุฑุจูุง ูุฑูุจ ูููุง ุฌุฏุงู' },
        { type: 'select', q: 'ุงููุจู ุงููู ูุงู "ุงูุนุฐุฑุงุก ุชุญุจู ูุชูุฏ" ูู ูููุ', options: ['ุฅุฑููุง', 'ุฏุงููุงู', 'ุฅุดุนูุงุก', 'ูููุงู'], ans: 'ุฅุดุนูุงุก', hint: 'ูุจู ูุจูุฑ ูู ุงูุนูุฏ ุงููุฏูู' },
        { type: 'select', q: 'ููุณู ุนูู ุฅูู ููุง ุตุญู ูู ุงููููุ', options: ['ูุงู ุชุงูู', 'ุณุฃู ูุฑูู', 'ูุนู ููุง ุฃูุฑู ุงูููุงู', 'ุฎุงู ููุฑุจ'], ans: 'ูุนู ููุง ุฃูุฑู ุงูููุงู', hint: 'ููุฐ ููุงู ุฑุจูุง ุจุณุฑุนุฉ' },
        { type: 'select', q: 'ููู ูุณูุน ุงุชููุฏุ', options: ['ุนุดุงู ููุนุจ', 'ุนุดุงู ูุฎูุต ุดุนุจู', 'ุนุดุงู ูุจูู ุบูู', 'ุนุดุงู ูุจูู ุจููุช'], ans: 'ุนุดุงู ูุฎูุต ุดุนุจู', hint: 'ุนุดุงู ููุชุญ ููุง ุจุงุจ ุงูุณูุง' },
        { type: 'select', q: 'ููู "ุงุจู ุฅุจุฑุงููู" ุงููู ุฌู ูู ุงูุณูุณูุฉุ', options: ['ุฅุณุญู', 'ุฅุณูุงุนูู', 'ุนูุณู', 'ูุงูู'], ans: 'ุฅุณุญู', hint: 'ุงุจู ุงูููุนุฏ' },
        { type: 'select', q: 'ุงููุฌููุนุฉ ุงูุชุงููุฉ ูู ุงูุฃูุณุงุจ ุจุฏุฃุช ุจูููุ', options: ['ุณูููุงู', 'ุฏุงูุฏ ุงูููู', 'ุขุณุง', 'ุนุฒูุง'], ans: 'ุฏุงูุฏ ุงูููู', hint: 'ุตุงุญุจ ุงููุฒุงููุฑ' },
        { type: 'select', q: 'ุณูุณูุฉ ุงูุฃูุณุงุจ ุงุชูุณูุช ููุงู ูุฌููุนุฉุ', options: ['ูุฌููุนุชูู', '3 ูุฌููุนุงุช', '4 ูุฌููุนุงุช', '5 ูุฌููุนุงุช'], ans: '3 ูุฌููุนุงุช', hint: '14 ู 14 ู 14' },
        { type: 'select', q: 'ุงูููุงู ูุงู ูููุณู ูุง ุงุจู ูููุ', options: ['ูุง ุงุจู ูุนููุจ', 'ูุง ุงุจู ุฏุงูุฏ', 'ูุง ุงุจู ููุณู', 'ูุง ุงุจู ูุงูู'], ans: 'ูุง ุงุจู ุฏุงูุฏ', hint: 'ููุจ ุนููุฉ ุงููููู' },
        { type: 'select', q: 'ูุณูุน ุฌู ุนุดุงู ูููู ููุงู ูููุ', options: ['ุงููููู', 'ุงูุฃูุจูุงุก', 'ุงูููุงุณูุฉ', 'ุงูุดุนุฑุงุก'], ans: 'ุงูุฃูุจูุงุก', hint: 'ุงููุงุณ ุงููู ุฑุจูุง ูุงู ุจูููููู ุฒูุงู' },
        { type: 'select', q: 'ูุตุฉ ุงููููุงุฏ ุฏู ููุฌูุฏุฉ ูู ุฅูุฌูู ูููุ', options: ['ูุฑูุณ', 'ูููุง', 'ููุญูุง', 'ูุชู'], ans: 'ูุชู', hint: 'ุฃูู ุฅูุฌูู ูู ุงูุนูุฏ ุงูุฌุฏูุฏ' }
    ];

    let currentSlide = 0;
    let currentQ = 0, score = 0, seconds = 0, timer;

    function showSlide() {
        const item = lessons[currentSlide];
        document.getElementById('slide-content').innerHTML = `
            <div class="explanation-card">
                <h3>${item.title}</h3>
                <div class="code-block">${item.code}</div>
                <p class="example-text">${item.desc}</p>
                <p style="color:var(--primary); font-weight:bold;">๐ก ูุซุงู: ${item.example}</p>
            </div>
        `;
        document.getElementById('slide-num').innerText = `${currentSlide + 1} / ${lessons.length}`;
        document.getElementById('prevSlide').disabled = currentSlide === 0;
        document.getElementById('nextSlide').disabled = currentSlide === lessons.length - 1;
    }

    function moveSlide(dir) {
        currentSlide += dir;
        showSlide();
    }

    window.onload = showSlide;

    function initQuiz() {
        if(!document.getElementById('username').value.trim()) return alert("ุงูุชุจ ุงุณูู ูุง ุจุทู ุฃููุงู!");
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        loadQuestion();
        timer = setInterval(() => {
            seconds++;
            let m = Math.floor(seconds/60), s = seconds%60;
            document.getElementById('timer-val').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        }, 1000);
    }

    function loadQuestion() {
        const q = questions[currentQ];
        document.getElementById('progress-text').innerText = `ุงูุณุคุงู ${currentQ + 1} / 20`;
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('hint-box').style.display = 'none';
        
        document.getElementById('options-container').innerHTML = '';
        q.options.forEach(opt => {
            const b = document.createElement('button');
            b.className = 'option-btn' + (q.userAns === opt ? ' selected' : '');
            b.innerText = opt;
            b.onclick = () => {
                document.querySelectorAll('.option-btn').forEach(x => x.classList.remove('selected'));
                b.classList.add('selected');
                q.userAns = opt;
            };
            document.getElementById('options-container').appendChild(b);
        });
    }

    function handleStep() {
        const q = questions[currentQ];
        const val = q.userAns;
        if(!val) return alert("ุงุฎุชุงุฑ ุฅุฌุงุจุฉ ูุง ุจุทู!");

        if(val === q.ans) {
            if(!q.done) { score += 10; q.done = true; document.getElementById('score-val').innerText = score; }
            if(currentQ < 19) { currentQ++; loadQuestion(); } else { finishQuiz(); }
        } else {
            document.getElementById('hint-box').style.display = 'block';
            document.getElementById('hint-text').innerText = q.hint;
        }
    }

    function navigate(dir) {
        if(currentQ + dir >= 0) {
            currentQ += dir;
            loadQuestion();
        }
    }

    function finishQuiz() {
        clearInterval(timer);
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('congrats-msg').innerText = `ุฃูุช ุจุทู ุฎุงุฑู ูุง ${document.getElementById('username').value}! ๐`;
        document.getElementById('final-stats').innerText = `ุฌูุนุช ${score} ููุทุฉ ูู ${Math.floor(seconds/60)} ุฏูููุฉ ู ${seconds%60} ุซุงููุฉ`;
    }
</script>
</body>
</html>